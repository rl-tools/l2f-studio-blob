var or=Object.defineProperty;var V=(r,n)=>{for(var e in n)or(r,e,{get:n[e],enumerable:!0})};var E=1e-6,L=typeof Float32Array<"u"?Float32Array:Array,b=Math.random;var $n=Math.PI/180;Math.hypot||(Math.hypot=function(){for(var r=0,n=arguments.length;n--;)r+=arguments[n]*arguments[n];return Math.sqrt(r)});var Q={};V(Q,{add:()=>A1,adjoint:()=>s1,clone:()=>r1,copy:()=>n1,create:()=>k,determinant:()=>h1,equals:()=>R1,exactEquals:()=>O1,frob:()=>P1,fromMat2d:()=>y1,fromMat4:()=>ur,fromQuat:()=>m1,fromRotation:()=>t1,fromScaling:()=>l1,fromTranslation:()=>p1,fromValues:()=>e1,identity:()=>i1,invert:()=>x1,mul:()=>I1,multiply:()=>Ar,multiplyScalar:()=>w1,multiplyScalarAndAdd:()=>E1,normalFromMat4:()=>g1,projection:()=>z1,rotate:()=>c1,scale:()=>f1,set:()=>a1,str:()=>d1,sub:()=>N1,subtract:()=>wr,translate:()=>M1,transpose:()=>v1});function k(){var r=new L(9);return L!=Float32Array&&(r[1]=0,r[2]=0,r[3]=0,r[5]=0,r[6]=0,r[7]=0),r[0]=1,r[4]=1,r[8]=1,r}function ur(r,n){return r[0]=n[0],r[1]=n[1],r[2]=n[2],r[3]=n[4],r[4]=n[5],r[5]=n[6],r[6]=n[8],r[7]=n[9],r[8]=n[10],r}function r1(r){var n=new L(9);return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],n}function n1(r,n){return r[0]=n[0],r[1]=n[1],r[2]=n[2],r[3]=n[3],r[4]=n[4],r[5]=n[5],r[6]=n[6],r[7]=n[7],r[8]=n[8],r}function e1(r,n,e,a,i,v,x,s,h){var M=new L(9);return M[0]=r,M[1]=n,M[2]=e,M[3]=a,M[4]=i,M[5]=v,M[6]=x,M[7]=s,M[8]=h,M}function a1(r,n,e,a,i,v,x,s,h,M){return r[0]=n,r[1]=e,r[2]=a,r[3]=i,r[4]=v,r[5]=x,r[6]=s,r[7]=h,r[8]=M,r}function i1(r){return r[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=1,r[5]=0,r[6]=0,r[7]=0,r[8]=1,r}function v1(r,n){if(r===n){var e=n[1],a=n[2],i=n[5];r[1]=n[3],r[2]=n[6],r[3]=e,r[5]=n[7],r[6]=a,r[7]=i}else r[0]=n[0],r[1]=n[3],r[2]=n[6],r[3]=n[1],r[4]=n[4],r[5]=n[7],r[6]=n[2],r[7]=n[5],r[8]=n[8];return r}function x1(r,n){var e=n[0],a=n[1],i=n[2],v=n[3],x=n[4],s=n[5],h=n[6],M=n[7],c=n[8],t=c*x-s*M,p=-c*v+s*h,f=M*v-x*h,y=e*t+a*p+i*f;return y?(y=1/y,r[0]=t*y,r[1]=(-c*a+i*M)*y,r[2]=(s*a-i*x)*y,r[3]=p*y,r[4]=(c*e-i*h)*y,r[5]=(-s*e+i*v)*y,r[6]=f*y,r[7]=(-M*e+a*h)*y,r[8]=(x*e-a*v)*y,r):null}function s1(r,n){var e=n[0],a=n[1],i=n[2],v=n[3],x=n[4],s=n[5],h=n[6],M=n[7],c=n[8];return r[0]=x*c-s*M,r[1]=i*M-a*c,r[2]=a*s-i*x,r[3]=s*h-v*c,r[4]=e*c-i*h,r[5]=i*v-e*s,r[6]=v*M-x*h,r[7]=a*h-e*M,r[8]=e*x-a*v,r}function h1(r){var n=r[0],e=r[1],a=r[2],i=r[3],v=r[4],x=r[5],s=r[6],h=r[7],M=r[8];return n*(M*v-x*h)+e*(-M*i+x*s)+a*(h*i-v*s)}function Ar(r,n,e){var a=n[0],i=n[1],v=n[2],x=n[3],s=n[4],h=n[5],M=n[6],c=n[7],t=n[8],p=e[0],f=e[1],y=e[2],m=e[3],l=e[4],g=e[5],O=e[6],z=e[7],d=e[8];return r[0]=p*a+f*x+y*M,r[1]=p*i+f*s+y*c,r[2]=p*v+f*h+y*t,r[3]=m*a+l*x+g*M,r[4]=m*i+l*s+g*c,r[5]=m*v+l*h+g*t,r[6]=O*a+z*x+d*M,r[7]=O*i+z*s+d*c,r[8]=O*v+z*h+d*t,r}function M1(r,n,e){var a=n[0],i=n[1],v=n[2],x=n[3],s=n[4],h=n[5],M=n[6],c=n[7],t=n[8],p=e[0],f=e[1];return r[0]=a,r[1]=i,r[2]=v,r[3]=x,r[4]=s,r[5]=h,r[6]=p*a+f*x+M,r[7]=p*i+f*s+c,r[8]=p*v+f*h+t,r}function c1(r,n,e){var a=n[0],i=n[1],v=n[2],x=n[3],s=n[4],h=n[5],M=n[6],c=n[7],t=n[8],p=Math.sin(e),f=Math.cos(e);return r[0]=f*a+p*x,r[1]=f*i+p*s,r[2]=f*v+p*h,r[3]=f*x-p*a,r[4]=f*s-p*i,r[5]=f*h-p*v,r[6]=M,r[7]=c,r[8]=t,r}function f1(r,n,e){var a=e[0],i=e[1];return r[0]=a*n[0],r[1]=a*n[1],r[2]=a*n[2],r[3]=i*n[3],r[4]=i*n[4],r[5]=i*n[5],r[6]=n[6],r[7]=n[7],r[8]=n[8],r}function p1(r,n){return r[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=1,r[5]=0,r[6]=n[0],r[7]=n[1],r[8]=1,r}function t1(r,n){var e=Math.sin(n),a=Math.cos(n);return r[0]=a,r[1]=e,r[2]=0,r[3]=-e,r[4]=a,r[5]=0,r[6]=0,r[7]=0,r[8]=1,r}function l1(r,n){return r[0]=n[0],r[1]=0,r[2]=0,r[3]=0,r[4]=n[1],r[5]=0,r[6]=0,r[7]=0,r[8]=1,r}function y1(r,n){return r[0]=n[0],r[1]=n[1],r[2]=0,r[3]=n[2],r[4]=n[3],r[5]=0,r[6]=n[4],r[7]=n[5],r[8]=1,r}function m1(r,n){var e=n[0],a=n[1],i=n[2],v=n[3],x=e+e,s=a+a,h=i+i,M=e*x,c=a*x,t=a*s,p=i*x,f=i*s,y=i*h,m=v*x,l=v*s,g=v*h;return r[0]=1-t-y,r[3]=c-g,r[6]=p+l,r[1]=c+g,r[4]=1-M-y,r[7]=f-m,r[2]=p-l,r[5]=f+m,r[8]=1-M-t,r}function g1(r,n){var e=n[0],a=n[1],i=n[2],v=n[3],x=n[4],s=n[5],h=n[6],M=n[7],c=n[8],t=n[9],p=n[10],f=n[11],y=n[12],m=n[13],l=n[14],g=n[15],O=e*s-a*x,z=e*h-i*x,d=e*M-v*x,A=a*h-i*s,P=a*M-v*s,Y=i*M-v*h,I=c*m-t*y,N=c*l-p*y,R=c*g-f*y,T=t*l-p*m,S=t*g-f*m,q=p*g-f*l,w=O*q-z*S+d*T+A*R-P*N+Y*I;return w?(w=1/w,r[0]=(s*q-h*S+M*T)*w,r[1]=(h*R-x*q-M*N)*w,r[2]=(x*S-s*R+M*I)*w,r[3]=(i*S-a*q-v*T)*w,r[4]=(e*q-i*R+v*N)*w,r[5]=(a*R-e*S-v*I)*w,r[6]=(m*Y-l*P+g*A)*w,r[7]=(l*d-y*Y-g*z)*w,r[8]=(y*P-m*d+g*O)*w,r):null}function z1(r,n,e){return r[0]=2/n,r[1]=0,r[2]=0,r[3]=0,r[4]=-2/e,r[5]=0,r[6]=-1,r[7]=1,r[8]=1,r}function d1(r){return"mat3("+r[0]+", "+r[1]+", "+r[2]+", "+r[3]+", "+r[4]+", "+r[5]+", "+r[6]+", "+r[7]+", "+r[8]+")"}function P1(r){return Math.hypot(r[0],r[1],r[2],r[3],r[4],r[5],r[6],r[7],r[8])}function A1(r,n,e){return r[0]=n[0]+e[0],r[1]=n[1]+e[1],r[2]=n[2]+e[2],r[3]=n[3]+e[3],r[4]=n[4]+e[4],r[5]=n[5]+e[5],r[6]=n[6]+e[6],r[7]=n[7]+e[7],r[8]=n[8]+e[8],r}function wr(r,n,e){return r[0]=n[0]-e[0],r[1]=n[1]-e[1],r[2]=n[2]-e[2],r[3]=n[3]-e[3],r[4]=n[4]-e[4],r[5]=n[5]-e[5],r[6]=n[6]-e[6],r[7]=n[7]-e[7],r[8]=n[8]-e[8],r}function w1(r,n,e){return r[0]=n[0]*e,r[1]=n[1]*e,r[2]=n[2]*e,r[3]=n[3]*e,r[4]=n[4]*e,r[5]=n[5]*e,r[6]=n[6]*e,r[7]=n[7]*e,r[8]=n[8]*e,r}function E1(r,n,e,a){return r[0]=n[0]+e[0]*a,r[1]=n[1]+e[1]*a,r[2]=n[2]+e[2]*a,r[3]=n[3]+e[3]*a,r[4]=n[4]+e[4]*a,r[5]=n[5]+e[5]*a,r[6]=n[6]+e[6]*a,r[7]=n[7]+e[7]*a,r[8]=n[8]+e[8]*a,r}function O1(r,n){return r[0]===n[0]&&r[1]===n[1]&&r[2]===n[2]&&r[3]===n[3]&&r[4]===n[4]&&r[5]===n[5]&&r[6]===n[6]&&r[7]===n[7]&&r[8]===n[8]}function R1(r,n){var e=r[0],a=r[1],i=r[2],v=r[3],x=r[4],s=r[5],h=r[6],M=r[7],c=r[8],t=n[0],p=n[1],f=n[2],y=n[3],m=n[4],l=n[5],g=n[6],O=n[7],z=n[8];return Math.abs(e-t)<=E*Math.max(1,Math.abs(e),Math.abs(t))&&Math.abs(a-p)<=E*Math.max(1,Math.abs(a),Math.abs(p))&&Math.abs(i-f)<=E*Math.max(1,Math.abs(i),Math.abs(f))&&Math.abs(v-y)<=E*Math.max(1,Math.abs(v),Math.abs(y))&&Math.abs(x-m)<=E*Math.max(1,Math.abs(x),Math.abs(m))&&Math.abs(s-l)<=E*Math.max(1,Math.abs(s),Math.abs(l))&&Math.abs(h-g)<=E*Math.max(1,Math.abs(h),Math.abs(g))&&Math.abs(M-O)<=E*Math.max(1,Math.abs(M),Math.abs(O))&&Math.abs(c-z)<=E*Math.max(1,Math.abs(c),Math.abs(z))}var I1=Ar,N1=wr;var o={};V(o,{add:()=>f0,adjoint:()=>_1,clone:()=>L1,copy:()=>Y1,create:()=>S1,determinant:()=>F1,equals:()=>y0,exactEquals:()=>l0,frob:()=>c0,fromQuat:()=>r0,fromQuat2:()=>K1,fromRotation:()=>B1,fromRotationTranslation:()=>Rr,fromRotationTranslationScale:()=>o1,fromRotationTranslationScaleOrigin:()=>u1,fromScaling:()=>C1,fromTranslation:()=>X1,fromValues:()=>T1,fromXRotation:()=>H1,fromYRotation:()=>J1,fromZRotation:()=>W1,frustum:()=>n0,getRotation:()=>k1,getScaling:()=>Ir,getTranslation:()=>$1,identity:()=>Er,invert:()=>D1,lookAt:()=>s0,mul:()=>m0,multiply:()=>Or,multiplyScalar:()=>p0,multiplyScalarAndAdd:()=>t0,ortho:()=>v0,orthoNO:()=>Sr,orthoZO:()=>x0,perspective:()=>e0,perspectiveFromFieldOfView:()=>i0,perspectiveNO:()=>Nr,perspectiveZO:()=>a0,rotate:()=>Z1,rotateX:()=>G1,rotateY:()=>Q1,rotateZ:()=>U1,scale:()=>j1,set:()=>q1,str:()=>M0,sub:()=>g0,subtract:()=>Lr,targetTo:()=>h0,translate:()=>V1,transpose:()=>b1});function S1(){var r=new L(16);return L!=Float32Array&&(r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[11]=0,r[12]=0,r[13]=0,r[14]=0),r[0]=1,r[5]=1,r[10]=1,r[15]=1,r}function L1(r){var n=new L(16);return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],n[9]=r[9],n[10]=r[10],n[11]=r[11],n[12]=r[12],n[13]=r[13],n[14]=r[14],n[15]=r[15],n}function Y1(r,n){return r[0]=n[0],r[1]=n[1],r[2]=n[2],r[3]=n[3],r[4]=n[4],r[5]=n[5],r[6]=n[6],r[7]=n[7],r[8]=n[8],r[9]=n[9],r[10]=n[10],r[11]=n[11],r[12]=n[12],r[13]=n[13],r[14]=n[14],r[15]=n[15],r}function T1(r,n,e,a,i,v,x,s,h,M,c,t,p,f,y,m){var l=new L(16);return l[0]=r,l[1]=n,l[2]=e,l[3]=a,l[4]=i,l[5]=v,l[6]=x,l[7]=s,l[8]=h,l[9]=M,l[10]=c,l[11]=t,l[12]=p,l[13]=f,l[14]=y,l[15]=m,l}function q1(r,n,e,a,i,v,x,s,h,M,c,t,p,f,y,m,l){return r[0]=n,r[1]=e,r[2]=a,r[3]=i,r[4]=v,r[5]=x,r[6]=s,r[7]=h,r[8]=M,r[9]=c,r[10]=t,r[11]=p,r[12]=f,r[13]=y,r[14]=m,r[15]=l,r}function Er(r){return r[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=1,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=1,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}function b1(r,n){if(r===n){var e=n[1],a=n[2],i=n[3],v=n[6],x=n[7],s=n[11];r[1]=n[4],r[2]=n[8],r[3]=n[12],r[4]=e,r[6]=n[9],r[7]=n[13],r[8]=a,r[9]=v,r[11]=n[14],r[12]=i,r[13]=x,r[14]=s}else r[0]=n[0],r[1]=n[4],r[2]=n[8],r[3]=n[12],r[4]=n[1],r[5]=n[5],r[6]=n[9],r[7]=n[13],r[8]=n[2],r[9]=n[6],r[10]=n[10],r[11]=n[14],r[12]=n[3],r[13]=n[7],r[14]=n[11],r[15]=n[15];return r}function D1(r,n){var e=n[0],a=n[1],i=n[2],v=n[3],x=n[4],s=n[5],h=n[6],M=n[7],c=n[8],t=n[9],p=n[10],f=n[11],y=n[12],m=n[13],l=n[14],g=n[15],O=e*s-a*x,z=e*h-i*x,d=e*M-v*x,A=a*h-i*s,P=a*M-v*s,Y=i*M-v*h,I=c*m-t*y,N=c*l-p*y,R=c*g-f*y,T=t*l-p*m,S=t*g-f*m,q=p*g-f*l,w=O*q-z*S+d*T+A*R-P*N+Y*I;return w?(w=1/w,r[0]=(s*q-h*S+M*T)*w,r[1]=(i*S-a*q-v*T)*w,r[2]=(m*Y-l*P+g*A)*w,r[3]=(p*P-t*Y-f*A)*w,r[4]=(h*R-x*q-M*N)*w,r[5]=(e*q-i*R+v*N)*w,r[6]=(l*d-y*Y-g*z)*w,r[7]=(c*Y-p*d+f*z)*w,r[8]=(x*S-s*R+M*I)*w,r[9]=(a*R-e*S-v*I)*w,r[10]=(y*P-m*d+g*O)*w,r[11]=(t*d-c*P-f*O)*w,r[12]=(s*N-x*T-h*I)*w,r[13]=(e*T-a*N+i*I)*w,r[14]=(m*z-y*A-l*O)*w,r[15]=(c*A-t*z+p*O)*w,r):null}function _1(r,n){var e=n[0],a=n[1],i=n[2],v=n[3],x=n[4],s=n[5],h=n[6],M=n[7],c=n[8],t=n[9],p=n[10],f=n[11],y=n[12],m=n[13],l=n[14],g=n[15];return r[0]=s*(p*g-f*l)-t*(h*g-M*l)+m*(h*f-M*p),r[1]=-(a*(p*g-f*l)-t*(i*g-v*l)+m*(i*f-v*p)),r[2]=a*(h*g-M*l)-s*(i*g-v*l)+m*(i*M-v*h),r[3]=-(a*(h*f-M*p)-s*(i*f-v*p)+t*(i*M-v*h)),r[4]=-(x*(p*g-f*l)-c*(h*g-M*l)+y*(h*f-M*p)),r[5]=e*(p*g-f*l)-c*(i*g-v*l)+y*(i*f-v*p),r[6]=-(e*(h*g-M*l)-x*(i*g-v*l)+y*(i*M-v*h)),r[7]=e*(h*f-M*p)-x*(i*f-v*p)+c*(i*M-v*h),r[8]=x*(t*g-f*m)-c*(s*g-M*m)+y*(s*f-M*t),r[9]=-(e*(t*g-f*m)-c*(a*g-v*m)+y*(a*f-v*t)),r[10]=e*(s*g-M*m)-x*(a*g-v*m)+y*(a*M-v*s),r[11]=-(e*(s*f-M*t)-x*(a*f-v*t)+c*(a*M-v*s)),r[12]=-(x*(t*l-p*m)-c*(s*l-h*m)+y*(s*p-h*t)),r[13]=e*(t*l-p*m)-c*(a*l-i*m)+y*(a*p-i*t),r[14]=-(e*(s*l-h*m)-x*(a*l-i*m)+y*(a*h-i*s)),r[15]=e*(s*p-h*t)-x*(a*p-i*t)+c*(a*h-i*s),r}function F1(r){var n=r[0],e=r[1],a=r[2],i=r[3],v=r[4],x=r[5],s=r[6],h=r[7],M=r[8],c=r[9],t=r[10],p=r[11],f=r[12],y=r[13],m=r[14],l=r[15],g=n*x-e*v,O=n*s-a*v,z=n*h-i*v,d=e*s-a*x,A=e*h-i*x,P=a*h-i*s,Y=M*y-c*f,I=M*m-t*f,N=M*l-p*f,R=c*m-t*y,T=c*l-p*y,S=t*l-p*m;return g*S-O*T+z*R+d*N-A*I+P*Y}function Or(r,n,e){var a=n[0],i=n[1],v=n[2],x=n[3],s=n[4],h=n[5],M=n[6],c=n[7],t=n[8],p=n[9],f=n[10],y=n[11],m=n[12],l=n[13],g=n[14],O=n[15],z=e[0],d=e[1],A=e[2],P=e[3];return r[0]=z*a+d*s+A*t+P*m,r[1]=z*i+d*h+A*p+P*l,r[2]=z*v+d*M+A*f+P*g,r[3]=z*x+d*c+A*y+P*O,z=e[4],d=e[5],A=e[6],P=e[7],r[4]=z*a+d*s+A*t+P*m,r[5]=z*i+d*h+A*p+P*l,r[6]=z*v+d*M+A*f+P*g,r[7]=z*x+d*c+A*y+P*O,z=e[8],d=e[9],A=e[10],P=e[11],r[8]=z*a+d*s+A*t+P*m,r[9]=z*i+d*h+A*p+P*l,r[10]=z*v+d*M+A*f+P*g,r[11]=z*x+d*c+A*y+P*O,z=e[12],d=e[13],A=e[14],P=e[15],r[12]=z*a+d*s+A*t+P*m,r[13]=z*i+d*h+A*p+P*l,r[14]=z*v+d*M+A*f+P*g,r[15]=z*x+d*c+A*y+P*O,r}function V1(r,n,e){var a=e[0],i=e[1],v=e[2],x,s,h,M,c,t,p,f,y,m,l,g;return n===r?(r[12]=n[0]*a+n[4]*i+n[8]*v+n[12],r[13]=n[1]*a+n[5]*i+n[9]*v+n[13],r[14]=n[2]*a+n[6]*i+n[10]*v+n[14],r[15]=n[3]*a+n[7]*i+n[11]*v+n[15]):(x=n[0],s=n[1],h=n[2],M=n[3],c=n[4],t=n[5],p=n[6],f=n[7],y=n[8],m=n[9],l=n[10],g=n[11],r[0]=x,r[1]=s,r[2]=h,r[3]=M,r[4]=c,r[5]=t,r[6]=p,r[7]=f,r[8]=y,r[9]=m,r[10]=l,r[11]=g,r[12]=x*a+c*i+y*v+n[12],r[13]=s*a+t*i+m*v+n[13],r[14]=h*a+p*i+l*v+n[14],r[15]=M*a+f*i+g*v+n[15]),r}function j1(r,n,e){var a=e[0],i=e[1],v=e[2];return r[0]=n[0]*a,r[1]=n[1]*a,r[2]=n[2]*a,r[3]=n[3]*a,r[4]=n[4]*i,r[5]=n[5]*i,r[6]=n[6]*i,r[7]=n[7]*i,r[8]=n[8]*v,r[9]=n[9]*v,r[10]=n[10]*v,r[11]=n[11]*v,r[12]=n[12],r[13]=n[13],r[14]=n[14],r[15]=n[15],r}function Z1(r,n,e,a){var i=a[0],v=a[1],x=a[2],s=Math.hypot(i,v,x),h,M,c,t,p,f,y,m,l,g,O,z,d,A,P,Y,I,N,R,T,S,q,w,D;return s<E?null:(s=1/s,i*=s,v*=s,x*=s,h=Math.sin(e),M=Math.cos(e),c=1-M,t=n[0],p=n[1],f=n[2],y=n[3],m=n[4],l=n[5],g=n[6],O=n[7],z=n[8],d=n[9],A=n[10],P=n[11],Y=i*i*c+M,I=v*i*c+x*h,N=x*i*c-v*h,R=i*v*c-x*h,T=v*v*c+M,S=x*v*c+i*h,q=i*x*c+v*h,w=v*x*c-i*h,D=x*x*c+M,r[0]=t*Y+m*I+z*N,r[1]=p*Y+l*I+d*N,r[2]=f*Y+g*I+A*N,r[3]=y*Y+O*I+P*N,r[4]=t*R+m*T+z*S,r[5]=p*R+l*T+d*S,r[6]=f*R+g*T+A*S,r[7]=y*R+O*T+P*S,r[8]=t*q+m*w+z*D,r[9]=p*q+l*w+d*D,r[10]=f*q+g*w+A*D,r[11]=y*q+O*w+P*D,n!==r&&(r[12]=n[12],r[13]=n[13],r[14]=n[14],r[15]=n[15]),r)}function G1(r,n,e){var a=Math.sin(e),i=Math.cos(e),v=n[4],x=n[5],s=n[6],h=n[7],M=n[8],c=n[9],t=n[10],p=n[11];return n!==r&&(r[0]=n[0],r[1]=n[1],r[2]=n[2],r[3]=n[3],r[12]=n[12],r[13]=n[13],r[14]=n[14],r[15]=n[15]),r[4]=v*i+M*a,r[5]=x*i+c*a,r[6]=s*i+t*a,r[7]=h*i+p*a,r[8]=M*i-v*a,r[9]=c*i-x*a,r[10]=t*i-s*a,r[11]=p*i-h*a,r}function Q1(r,n,e){var a=Math.sin(e),i=Math.cos(e),v=n[0],x=n[1],s=n[2],h=n[3],M=n[8],c=n[9],t=n[10],p=n[11];return n!==r&&(r[4]=n[4],r[5]=n[5],r[6]=n[6],r[7]=n[7],r[12]=n[12],r[13]=n[13],r[14]=n[14],r[15]=n[15]),r[0]=v*i-M*a,r[1]=x*i-c*a,r[2]=s*i-t*a,r[3]=h*i-p*a,r[8]=v*a+M*i,r[9]=x*a+c*i,r[10]=s*a+t*i,r[11]=h*a+p*i,r}function U1(r,n,e){var a=Math.sin(e),i=Math.cos(e),v=n[0],x=n[1],s=n[2],h=n[3],M=n[4],c=n[5],t=n[6],p=n[7];return n!==r&&(r[8]=n[8],r[9]=n[9],r[10]=n[10],r[11]=n[11],r[12]=n[12],r[13]=n[13],r[14]=n[14],r[15]=n[15]),r[0]=v*i+M*a,r[1]=x*i+c*a,r[2]=s*i+t*a,r[3]=h*i+p*a,r[4]=M*i-v*a,r[5]=c*i-x*a,r[6]=t*i-s*a,r[7]=p*i-h*a,r}function X1(r,n){return r[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=1,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=1,r[11]=0,r[12]=n[0],r[13]=n[1],r[14]=n[2],r[15]=1,r}function C1(r,n){return r[0]=n[0],r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=n[1],r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=n[2],r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}function B1(r,n,e){var a=e[0],i=e[1],v=e[2],x=Math.hypot(a,i,v),s,h,M;return x<E?null:(x=1/x,a*=x,i*=x,v*=x,s=Math.sin(n),h=Math.cos(n),M=1-h,r[0]=a*a*M+h,r[1]=i*a*M+v*s,r[2]=v*a*M-i*s,r[3]=0,r[4]=a*i*M-v*s,r[5]=i*i*M+h,r[6]=v*i*M+a*s,r[7]=0,r[8]=a*v*M+i*s,r[9]=i*v*M-a*s,r[10]=v*v*M+h,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r)}function H1(r,n){var e=Math.sin(n),a=Math.cos(n);return r[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=a,r[6]=e,r[7]=0,r[8]=0,r[9]=-e,r[10]=a,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}function J1(r,n){var e=Math.sin(n),a=Math.cos(n);return r[0]=a,r[1]=0,r[2]=-e,r[3]=0,r[4]=0,r[5]=1,r[6]=0,r[7]=0,r[8]=e,r[9]=0,r[10]=a,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}function W1(r,n){var e=Math.sin(n),a=Math.cos(n);return r[0]=a,r[1]=e,r[2]=0,r[3]=0,r[4]=-e,r[5]=a,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=1,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}function Rr(r,n,e){var a=n[0],i=n[1],v=n[2],x=n[3],s=a+a,h=i+i,M=v+v,c=a*s,t=a*h,p=a*M,f=i*h,y=i*M,m=v*M,l=x*s,g=x*h,O=x*M;return r[0]=1-(f+m),r[1]=t+O,r[2]=p-g,r[3]=0,r[4]=t-O,r[5]=1-(c+m),r[6]=y+l,r[7]=0,r[8]=p+g,r[9]=y-l,r[10]=1-(c+f),r[11]=0,r[12]=e[0],r[13]=e[1],r[14]=e[2],r[15]=1,r}function K1(r,n){var e=new L(3),a=-n[0],i=-n[1],v=-n[2],x=n[3],s=n[4],h=n[5],M=n[6],c=n[7],t=a*a+i*i+v*v+x*x;return t>0?(e[0]=(s*x+c*a+h*v-M*i)*2/t,e[1]=(h*x+c*i+M*a-s*v)*2/t,e[2]=(M*x+c*v+s*i-h*a)*2/t):(e[0]=(s*x+c*a+h*v-M*i)*2,e[1]=(h*x+c*i+M*a-s*v)*2,e[2]=(M*x+c*v+s*i-h*a)*2),Rr(r,n,e),r}function $1(r,n){return r[0]=n[12],r[1]=n[13],r[2]=n[14],r}function Ir(r,n){var e=n[0],a=n[1],i=n[2],v=n[4],x=n[5],s=n[6],h=n[8],M=n[9],c=n[10];return r[0]=Math.hypot(e,a,i),r[1]=Math.hypot(v,x,s),r[2]=Math.hypot(h,M,c),r}function k1(r,n){var e=new L(3);Ir(e,n);var a=1/e[0],i=1/e[1],v=1/e[2],x=n[0]*a,s=n[1]*i,h=n[2]*v,M=n[4]*a,c=n[5]*i,t=n[6]*v,p=n[8]*a,f=n[9]*i,y=n[10]*v,m=x+c+y,l=0;return m>0?(l=Math.sqrt(m+1)*2,r[3]=.25*l,r[0]=(t-f)/l,r[1]=(p-h)/l,r[2]=(s-M)/l):x>c&&x>y?(l=Math.sqrt(1+x-c-y)*2,r[3]=(t-f)/l,r[0]=.25*l,r[1]=(s+M)/l,r[2]=(p+h)/l):c>y?(l=Math.sqrt(1+c-x-y)*2,r[3]=(p-h)/l,r[0]=(s+M)/l,r[1]=.25*l,r[2]=(t+f)/l):(l=Math.sqrt(1+y-x-c)*2,r[3]=(s-M)/l,r[0]=(p+h)/l,r[1]=(t+f)/l,r[2]=.25*l),r}function o1(r,n,e,a){var i=n[0],v=n[1],x=n[2],s=n[3],h=i+i,M=v+v,c=x+x,t=i*h,p=i*M,f=i*c,y=v*M,m=v*c,l=x*c,g=s*h,O=s*M,z=s*c,d=a[0],A=a[1],P=a[2];return r[0]=(1-(y+l))*d,r[1]=(p+z)*d,r[2]=(f-O)*d,r[3]=0,r[4]=(p-z)*A,r[5]=(1-(t+l))*A,r[6]=(m+g)*A,r[7]=0,r[8]=(f+O)*P,r[9]=(m-g)*P,r[10]=(1-(t+y))*P,r[11]=0,r[12]=e[0],r[13]=e[1],r[14]=e[2],r[15]=1,r}function u1(r,n,e,a,i){var v=n[0],x=n[1],s=n[2],h=n[3],M=v+v,c=x+x,t=s+s,p=v*M,f=v*c,y=v*t,m=x*c,l=x*t,g=s*t,O=h*M,z=h*c,d=h*t,A=a[0],P=a[1],Y=a[2],I=i[0],N=i[1],R=i[2],T=(1-(m+g))*A,S=(f+d)*A,q=(y-z)*A,w=(f-d)*P,D=(1-(p+g))*P,_=(l+O)*P,F=(y+z)*Y,dr=(l-O)*Y,Pr=(1-(p+m))*Y;return r[0]=T,r[1]=S,r[2]=q,r[3]=0,r[4]=w,r[5]=D,r[6]=_,r[7]=0,r[8]=F,r[9]=dr,r[10]=Pr,r[11]=0,r[12]=e[0]+I-(T*I+w*N+F*R),r[13]=e[1]+N-(S*I+D*N+dr*R),r[14]=e[2]+R-(q*I+_*N+Pr*R),r[15]=1,r}function r0(r,n){var e=n[0],a=n[1],i=n[2],v=n[3],x=e+e,s=a+a,h=i+i,M=e*x,c=a*x,t=a*s,p=i*x,f=i*s,y=i*h,m=v*x,l=v*s,g=v*h;return r[0]=1-t-y,r[1]=c+g,r[2]=p-l,r[3]=0,r[4]=c-g,r[5]=1-M-y,r[6]=f+m,r[7]=0,r[8]=p+l,r[9]=f-m,r[10]=1-M-t,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}function n0(r,n,e,a,i,v,x){var s=1/(e-n),h=1/(i-a),M=1/(v-x);return r[0]=v*2*s,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=v*2*h,r[6]=0,r[7]=0,r[8]=(e+n)*s,r[9]=(i+a)*h,r[10]=(x+v)*M,r[11]=-1,r[12]=0,r[13]=0,r[14]=x*v*2*M,r[15]=0,r}function Nr(r,n,e,a,i){var v=1/Math.tan(n/2),x;return r[0]=v/e,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=v,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[11]=-1,r[12]=0,r[13]=0,r[15]=0,i!=null&&i!==1/0?(x=1/(a-i),r[10]=(i+a)*x,r[14]=2*i*a*x):(r[10]=-1,r[14]=-2*a),r}var e0=Nr;function a0(r,n,e,a,i){var v=1/Math.tan(n/2),x;return r[0]=v/e,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=v,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[11]=-1,r[12]=0,r[13]=0,r[15]=0,i!=null&&i!==1/0?(x=1/(a-i),r[10]=i*x,r[14]=i*a*x):(r[10]=-1,r[14]=-a),r}function i0(r,n,e,a){var i=Math.tan(n.upDegrees*Math.PI/180),v=Math.tan(n.downDegrees*Math.PI/180),x=Math.tan(n.leftDegrees*Math.PI/180),s=Math.tan(n.rightDegrees*Math.PI/180),h=2/(x+s),M=2/(i+v);return r[0]=h,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=M,r[6]=0,r[7]=0,r[8]=-((x-s)*h*.5),r[9]=(i-v)*M*.5,r[10]=a/(e-a),r[11]=-1,r[12]=0,r[13]=0,r[14]=a*e/(e-a),r[15]=0,r}function Sr(r,n,e,a,i,v,x){var s=1/(n-e),h=1/(a-i),M=1/(v-x);return r[0]=-2*s,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=-2*h,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=2*M,r[11]=0,r[12]=(n+e)*s,r[13]=(i+a)*h,r[14]=(x+v)*M,r[15]=1,r}var v0=Sr;function x0(r,n,e,a,i,v,x){var s=1/(n-e),h=1/(a-i),M=1/(v-x);return r[0]=-2*s,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=-2*h,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=M,r[11]=0,r[12]=(n+e)*s,r[13]=(i+a)*h,r[14]=v*M,r[15]=1,r}function s0(r,n,e,a){var i,v,x,s,h,M,c,t,p,f,y=n[0],m=n[1],l=n[2],g=a[0],O=a[1],z=a[2],d=e[0],A=e[1],P=e[2];return Math.abs(y-d)<E&&Math.abs(m-A)<E&&Math.abs(l-P)<E?Er(r):(c=y-d,t=m-A,p=l-P,f=1/Math.hypot(c,t,p),c*=f,t*=f,p*=f,i=O*p-z*t,v=z*c-g*p,x=g*t-O*c,f=Math.hypot(i,v,x),f?(f=1/f,i*=f,v*=f,x*=f):(i=0,v=0,x=0),s=t*x-p*v,h=p*i-c*x,M=c*v-t*i,f=Math.hypot(s,h,M),f?(f=1/f,s*=f,h*=f,M*=f):(s=0,h=0,M=0),r[0]=i,r[1]=s,r[2]=c,r[3]=0,r[4]=v,r[5]=h,r[6]=t,r[7]=0,r[8]=x,r[9]=M,r[10]=p,r[11]=0,r[12]=-(i*y+v*m+x*l),r[13]=-(s*y+h*m+M*l),r[14]=-(c*y+t*m+p*l),r[15]=1,r)}function h0(r,n,e,a){var i=n[0],v=n[1],x=n[2],s=a[0],h=a[1],M=a[2],c=i-e[0],t=v-e[1],p=x-e[2],f=c*c+t*t+p*p;f>0&&(f=1/Math.sqrt(f),c*=f,t*=f,p*=f);var y=h*p-M*t,m=M*c-s*p,l=s*t-h*c;return f=y*y+m*m+l*l,f>0&&(f=1/Math.sqrt(f),y*=f,m*=f,l*=f),r[0]=y,r[1]=m,r[2]=l,r[3]=0,r[4]=t*l-p*m,r[5]=p*y-c*l,r[6]=c*m-t*y,r[7]=0,r[8]=c,r[9]=t,r[10]=p,r[11]=0,r[12]=i,r[13]=v,r[14]=x,r[15]=1,r}function M0(r){return"mat4("+r[0]+", "+r[1]+", "+r[2]+", "+r[3]+", "+r[4]+", "+r[5]+", "+r[6]+", "+r[7]+", "+r[8]+", "+r[9]+", "+r[10]+", "+r[11]+", "+r[12]+", "+r[13]+", "+r[14]+", "+r[15]+")"}function c0(r){return Math.hypot(r[0],r[1],r[2],r[3],r[4],r[5],r[6],r[7],r[8],r[9],r[10],r[11],r[12],r[13],r[14],r[15])}function f0(r,n,e){return r[0]=n[0]+e[0],r[1]=n[1]+e[1],r[2]=n[2]+e[2],r[3]=n[3]+e[3],r[4]=n[4]+e[4],r[5]=n[5]+e[5],r[6]=n[6]+e[6],r[7]=n[7]+e[7],r[8]=n[8]+e[8],r[9]=n[9]+e[9],r[10]=n[10]+e[10],r[11]=n[11]+e[11],r[12]=n[12]+e[12],r[13]=n[13]+e[13],r[14]=n[14]+e[14],r[15]=n[15]+e[15],r}function Lr(r,n,e){return r[0]=n[0]-e[0],r[1]=n[1]-e[1],r[2]=n[2]-e[2],r[3]=n[3]-e[3],r[4]=n[4]-e[4],r[5]=n[5]-e[5],r[6]=n[6]-e[6],r[7]=n[7]-e[7],r[8]=n[8]-e[8],r[9]=n[9]-e[9],r[10]=n[10]-e[10],r[11]=n[11]-e[11],r[12]=n[12]-e[12],r[13]=n[13]-e[13],r[14]=n[14]-e[14],r[15]=n[15]-e[15],r}function p0(r,n,e){return r[0]=n[0]*e,r[1]=n[1]*e,r[2]=n[2]*e,r[3]=n[3]*e,r[4]=n[4]*e,r[5]=n[5]*e,r[6]=n[6]*e,r[7]=n[7]*e,r[8]=n[8]*e,r[9]=n[9]*e,r[10]=n[10]*e,r[11]=n[11]*e,r[12]=n[12]*e,r[13]=n[13]*e,r[14]=n[14]*e,r[15]=n[15]*e,r}function t0(r,n,e,a){return r[0]=n[0]+e[0]*a,r[1]=n[1]+e[1]*a,r[2]=n[2]+e[2]*a,r[3]=n[3]+e[3]*a,r[4]=n[4]+e[4]*a,r[5]=n[5]+e[5]*a,r[6]=n[6]+e[6]*a,r[7]=n[7]+e[7]*a,r[8]=n[8]+e[8]*a,r[9]=n[9]+e[9]*a,r[10]=n[10]+e[10]*a,r[11]=n[11]+e[11]*a,r[12]=n[12]+e[12]*a,r[13]=n[13]+e[13]*a,r[14]=n[14]+e[14]*a,r[15]=n[15]+e[15]*a,r}function l0(r,n){return r[0]===n[0]&&r[1]===n[1]&&r[2]===n[2]&&r[3]===n[3]&&r[4]===n[4]&&r[5]===n[5]&&r[6]===n[6]&&r[7]===n[7]&&r[8]===n[8]&&r[9]===n[9]&&r[10]===n[10]&&r[11]===n[11]&&r[12]===n[12]&&r[13]===n[13]&&r[14]===n[14]&&r[15]===n[15]}function y0(r,n){var e=r[0],a=r[1],i=r[2],v=r[3],x=r[4],s=r[5],h=r[6],M=r[7],c=r[8],t=r[9],p=r[10],f=r[11],y=r[12],m=r[13],l=r[14],g=r[15],O=n[0],z=n[1],d=n[2],A=n[3],P=n[4],Y=n[5],I=n[6],N=n[7],R=n[8],T=n[9],S=n[10],q=n[11],w=n[12],D=n[13],_=n[14],F=n[15];return Math.abs(e-O)<=E*Math.max(1,Math.abs(e),Math.abs(O))&&Math.abs(a-z)<=E*Math.max(1,Math.abs(a),Math.abs(z))&&Math.abs(i-d)<=E*Math.max(1,Math.abs(i),Math.abs(d))&&Math.abs(v-A)<=E*Math.max(1,Math.abs(v),Math.abs(A))&&Math.abs(x-P)<=E*Math.max(1,Math.abs(x),Math.abs(P))&&Math.abs(s-Y)<=E*Math.max(1,Math.abs(s),Math.abs(Y))&&Math.abs(h-I)<=E*Math.max(1,Math.abs(h),Math.abs(I))&&Math.abs(M-N)<=E*Math.max(1,Math.abs(M),Math.abs(N))&&Math.abs(c-R)<=E*Math.max(1,Math.abs(c),Math.abs(R))&&Math.abs(t-T)<=E*Math.max(1,Math.abs(t),Math.abs(T))&&Math.abs(p-S)<=E*Math.max(1,Math.abs(p),Math.abs(S))&&Math.abs(f-q)<=E*Math.max(1,Math.abs(f),Math.abs(q))&&Math.abs(y-w)<=E*Math.max(1,Math.abs(y),Math.abs(w))&&Math.abs(m-D)<=E*Math.max(1,Math.abs(m),Math.abs(D))&&Math.abs(l-_)<=E*Math.max(1,Math.abs(l),Math.abs(_))&&Math.abs(g-F)<=E*Math.max(1,Math.abs(g),Math.abs(F))}var m0=Or,g0=Lr;var lr={};V(lr,{add:()=>Zn,calculateW:()=>Sn,clone:()=>_n,conjugate:()=>qn,copy:()=>Vn,create:()=>pr,dot:()=>Kr,equals:()=>Bn,exactEquals:()=>Cn,exp:()=>Br,fromEuler:()=>bn,fromMat3:()=>Jr,fromValues:()=>Fn,getAngle:()=>On,getAxisAngle:()=>En,identity:()=>wn,invert:()=>Tn,len:()=>Un,length:()=>$r,lerp:()=>Qn,ln:()=>Hr,mul:()=>Gn,multiply:()=>Cr,normalize:()=>tr,pow:()=>Ln,random:()=>Yn,rotateX:()=>Rn,rotateY:()=>In,rotateZ:()=>Nn,rotationTo:()=>Hn,scale:()=>Wr,set:()=>jn,setAxes:()=>Wn,setAxisAngle:()=>Xr,slerp:()=>K,sqlerp:()=>Jn,sqrLen:()=>Xn,squaredLength:()=>kr,str:()=>Dn});var B={};V(B,{add:()=>A0,angle:()=>Q0,bezier:()=>b0,ceil:()=>w0,clone:()=>z0,copy:()=>d0,create:()=>U,cross:()=>Z,dist:()=>K0,distance:()=>Dr,div:()=>W0,divide:()=>br,dot:()=>C,equals:()=>B0,exactEquals:()=>C0,floor:()=>E0,forEach:()=>o0,fromValues:()=>X,hermite:()=>q0,inverse:()=>Y0,len:()=>rr,length:()=>Yr,lerp:()=>T0,max:()=>R0,min:()=>O0,mul:()=>J0,multiply:()=>qr,negate:()=>L0,normalize:()=>u,random:()=>D0,rotateX:()=>j0,rotateY:()=>Z0,rotateZ:()=>G0,round:()=>I0,scale:()=>N0,scaleAndAdd:()=>S0,set:()=>P0,sqrDist:()=>$0,sqrLen:()=>k0,squaredDistance:()=>_r,squaredLength:()=>Fr,str:()=>X0,sub:()=>H0,subtract:()=>Tr,transformMat3:()=>F0,transformMat4:()=>_0,transformQuat:()=>V0,zero:()=>U0});function U(){var r=new L(3);return L!=Float32Array&&(r[0]=0,r[1]=0,r[2]=0),r}function z0(r){var n=new L(3);return n[0]=r[0],n[1]=r[1],n[2]=r[2],n}function Yr(r){var n=r[0],e=r[1],a=r[2];return Math.hypot(n,e,a)}function X(r,n,e){var a=new L(3);return a[0]=r,a[1]=n,a[2]=e,a}function d0(r,n){return r[0]=n[0],r[1]=n[1],r[2]=n[2],r}function P0(r,n,e,a){return r[0]=n,r[1]=e,r[2]=a,r}function A0(r,n,e){return r[0]=n[0]+e[0],r[1]=n[1]+e[1],r[2]=n[2]+e[2],r}function Tr(r,n,e){return r[0]=n[0]-e[0],r[1]=n[1]-e[1],r[2]=n[2]-e[2],r}function qr(r,n,e){return r[0]=n[0]*e[0],r[1]=n[1]*e[1],r[2]=n[2]*e[2],r}function br(r,n,e){return r[0]=n[0]/e[0],r[1]=n[1]/e[1],r[2]=n[2]/e[2],r}function w0(r,n){return r[0]=Math.ceil(n[0]),r[1]=Math.ceil(n[1]),r[2]=Math.ceil(n[2]),r}function E0(r,n){return r[0]=Math.floor(n[0]),r[1]=Math.floor(n[1]),r[2]=Math.floor(n[2]),r}function O0(r,n,e){return r[0]=Math.min(n[0],e[0]),r[1]=Math.min(n[1],e[1]),r[2]=Math.min(n[2],e[2]),r}function R0(r,n,e){return r[0]=Math.max(n[0],e[0]),r[1]=Math.max(n[1],e[1]),r[2]=Math.max(n[2],e[2]),r}function I0(r,n){return r[0]=Math.round(n[0]),r[1]=Math.round(n[1]),r[2]=Math.round(n[2]),r}function N0(r,n,e){return r[0]=n[0]*e,r[1]=n[1]*e,r[2]=n[2]*e,r}function S0(r,n,e,a){return r[0]=n[0]+e[0]*a,r[1]=n[1]+e[1]*a,r[2]=n[2]+e[2]*a,r}function Dr(r,n){var e=n[0]-r[0],a=n[1]-r[1],i=n[2]-r[2];return Math.hypot(e,a,i)}function _r(r,n){var e=n[0]-r[0],a=n[1]-r[1],i=n[2]-r[2];return e*e+a*a+i*i}function Fr(r){var n=r[0],e=r[1],a=r[2];return n*n+e*e+a*a}function L0(r,n){return r[0]=-n[0],r[1]=-n[1],r[2]=-n[2],r}function Y0(r,n){return r[0]=1/n[0],r[1]=1/n[1],r[2]=1/n[2],r}function u(r,n){var e=n[0],a=n[1],i=n[2],v=e*e+a*a+i*i;return v>0&&(v=1/Math.sqrt(v)),r[0]=n[0]*v,r[1]=n[1]*v,r[2]=n[2]*v,r}function C(r,n){return r[0]*n[0]+r[1]*n[1]+r[2]*n[2]}function Z(r,n,e){var a=n[0],i=n[1],v=n[2],x=e[0],s=e[1],h=e[2];return r[0]=i*h-v*s,r[1]=v*x-a*h,r[2]=a*s-i*x,r}function T0(r,n,e,a){var i=n[0],v=n[1],x=n[2];return r[0]=i+a*(e[0]-i),r[1]=v+a*(e[1]-v),r[2]=x+a*(e[2]-x),r}function q0(r,n,e,a,i,v){var x=v*v,s=x*(2*v-3)+1,h=x*(v-2)+v,M=x*(v-1),c=x*(3-2*v);return r[0]=n[0]*s+e[0]*h+a[0]*M+i[0]*c,r[1]=n[1]*s+e[1]*h+a[1]*M+i[1]*c,r[2]=n[2]*s+e[2]*h+a[2]*M+i[2]*c,r}function b0(r,n,e,a,i,v){var x=1-v,s=x*x,h=v*v,M=s*x,c=3*v*s,t=3*h*x,p=h*v;return r[0]=n[0]*M+e[0]*c+a[0]*t+i[0]*p,r[1]=n[1]*M+e[1]*c+a[1]*t+i[1]*p,r[2]=n[2]*M+e[2]*c+a[2]*t+i[2]*p,r}function D0(r,n){n=n||1;var e=b()*2*Math.PI,a=b()*2-1,i=Math.sqrt(1-a*a)*n;return r[0]=Math.cos(e)*i,r[1]=Math.sin(e)*i,r[2]=a*n,r}function _0(r,n,e){var a=n[0],i=n[1],v=n[2],x=e[3]*a+e[7]*i+e[11]*v+e[15];return x=x||1,r[0]=(e[0]*a+e[4]*i+e[8]*v+e[12])/x,r[1]=(e[1]*a+e[5]*i+e[9]*v+e[13])/x,r[2]=(e[2]*a+e[6]*i+e[10]*v+e[14])/x,r}function F0(r,n,e){var a=n[0],i=n[1],v=n[2];return r[0]=a*e[0]+i*e[3]+v*e[6],r[1]=a*e[1]+i*e[4]+v*e[7],r[2]=a*e[2]+i*e[5]+v*e[8],r}function V0(r,n,e){var a=e[0],i=e[1],v=e[2],x=e[3],s=n[0],h=n[1],M=n[2],c=i*M-v*h,t=v*s-a*M,p=a*h-i*s,f=i*p-v*t,y=v*c-a*p,m=a*t-i*c,l=x*2;return c*=l,t*=l,p*=l,f*=2,y*=2,m*=2,r[0]=s+c+f,r[1]=h+t+y,r[2]=M+p+m,r}function j0(r,n,e,a){var i=[],v=[];return i[0]=n[0]-e[0],i[1]=n[1]-e[1],i[2]=n[2]-e[2],v[0]=i[0],v[1]=i[1]*Math.cos(a)-i[2]*Math.sin(a),v[2]=i[1]*Math.sin(a)+i[2]*Math.cos(a),r[0]=v[0]+e[0],r[1]=v[1]+e[1],r[2]=v[2]+e[2],r}function Z0(r,n,e,a){var i=[],v=[];return i[0]=n[0]-e[0],i[1]=n[1]-e[1],i[2]=n[2]-e[2],v[0]=i[2]*Math.sin(a)+i[0]*Math.cos(a),v[1]=i[1],v[2]=i[2]*Math.cos(a)-i[0]*Math.sin(a),r[0]=v[0]+e[0],r[1]=v[1]+e[1],r[2]=v[2]+e[2],r}function G0(r,n,e,a){var i=[],v=[];return i[0]=n[0]-e[0],i[1]=n[1]-e[1],i[2]=n[2]-e[2],v[0]=i[0]*Math.cos(a)-i[1]*Math.sin(a),v[1]=i[0]*Math.sin(a)+i[1]*Math.cos(a),v[2]=i[2],r[0]=v[0]+e[0],r[1]=v[1]+e[1],r[2]=v[2]+e[2],r}function Q0(r,n){var e=r[0],a=r[1],i=r[2],v=n[0],x=n[1],s=n[2],h=Math.sqrt(e*e+a*a+i*i),M=Math.sqrt(v*v+x*x+s*s),c=h*M,t=c&&C(r,n)/c;return Math.acos(Math.min(Math.max(t,-1),1))}function U0(r){return r[0]=0,r[1]=0,r[2]=0,r}function X0(r){return"vec3("+r[0]+", "+r[1]+", "+r[2]+")"}function C0(r,n){return r[0]===n[0]&&r[1]===n[1]&&r[2]===n[2]}function B0(r,n){var e=r[0],a=r[1],i=r[2],v=n[0],x=n[1],s=n[2];return Math.abs(e-v)<=E*Math.max(1,Math.abs(e),Math.abs(v))&&Math.abs(a-x)<=E*Math.max(1,Math.abs(a),Math.abs(x))&&Math.abs(i-s)<=E*Math.max(1,Math.abs(i),Math.abs(s))}var H0=Tr,J0=qr,W0=br,K0=Dr,$0=_r,rr=Yr,k0=Fr,o0=(function(){var r=U();return function(n,e,a,i,v,x){var s,h;for(e||(e=3),a||(a=0),i?h=Math.min(i*e+a,n.length):h=n.length,s=a;s<h;s+=e)r[0]=n[s],r[1]=n[s+1],r[2]=n[s+2],v(r,r,x),n[s]=r[0],n[s+1]=r[1],n[s+2]=r[2];return n}})();var W={};V(W,{add:()=>vr,ceil:()=>u0,clone:()=>nr,copy:()=>ar,create:()=>Vr,cross:()=>hn,dist:()=>gn,distance:()=>Qr,div:()=>mn,divide:()=>Gr,dot:()=>hr,equals:()=>fr,exactEquals:()=>cr,floor:()=>rn,forEach:()=>An,fromValues:()=>er,inverse:()=>sn,len:()=>dn,length:()=>H,lerp:()=>Mr,max:()=>en,min:()=>nn,mul:()=>yn,multiply:()=>Zr,negate:()=>xn,normalize:()=>sr,random:()=>Mn,round:()=>an,scale:()=>xr,scaleAndAdd:()=>vn,set:()=>ir,sqrDist:()=>zn,sqrLen:()=>Pn,squaredDistance:()=>Ur,squaredLength:()=>J,str:()=>tn,sub:()=>ln,subtract:()=>jr,transformMat4:()=>cn,transformQuat:()=>fn,zero:()=>pn});function Vr(){var r=new L(4);return L!=Float32Array&&(r[0]=0,r[1]=0,r[2]=0,r[3]=0),r}function nr(r){var n=new L(4);return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n}function er(r,n,e,a){var i=new L(4);return i[0]=r,i[1]=n,i[2]=e,i[3]=a,i}function ar(r,n){return r[0]=n[0],r[1]=n[1],r[2]=n[2],r[3]=n[3],r}function ir(r,n,e,a,i){return r[0]=n,r[1]=e,r[2]=a,r[3]=i,r}function vr(r,n,e){return r[0]=n[0]+e[0],r[1]=n[1]+e[1],r[2]=n[2]+e[2],r[3]=n[3]+e[3],r}function jr(r,n,e){return r[0]=n[0]-e[0],r[1]=n[1]-e[1],r[2]=n[2]-e[2],r[3]=n[3]-e[3],r}function Zr(r,n,e){return r[0]=n[0]*e[0],r[1]=n[1]*e[1],r[2]=n[2]*e[2],r[3]=n[3]*e[3],r}function Gr(r,n,e){return r[0]=n[0]/e[0],r[1]=n[1]/e[1],r[2]=n[2]/e[2],r[3]=n[3]/e[3],r}function u0(r,n){return r[0]=Math.ceil(n[0]),r[1]=Math.ceil(n[1]),r[2]=Math.ceil(n[2]),r[3]=Math.ceil(n[3]),r}function rn(r,n){return r[0]=Math.floor(n[0]),r[1]=Math.floor(n[1]),r[2]=Math.floor(n[2]),r[3]=Math.floor(n[3]),r}function nn(r,n,e){return r[0]=Math.min(n[0],e[0]),r[1]=Math.min(n[1],e[1]),r[2]=Math.min(n[2],e[2]),r[3]=Math.min(n[3],e[3]),r}function en(r,n,e){return r[0]=Math.max(n[0],e[0]),r[1]=Math.max(n[1],e[1]),r[2]=Math.max(n[2],e[2]),r[3]=Math.max(n[3],e[3]),r}function an(r,n){return r[0]=Math.round(n[0]),r[1]=Math.round(n[1]),r[2]=Math.round(n[2]),r[3]=Math.round(n[3]),r}function xr(r,n,e){return r[0]=n[0]*e,r[1]=n[1]*e,r[2]=n[2]*e,r[3]=n[3]*e,r}function vn(r,n,e,a){return r[0]=n[0]+e[0]*a,r[1]=n[1]+e[1]*a,r[2]=n[2]+e[2]*a,r[3]=n[3]+e[3]*a,r}function Qr(r,n){var e=n[0]-r[0],a=n[1]-r[1],i=n[2]-r[2],v=n[3]-r[3];return Math.hypot(e,a,i,v)}function Ur(r,n){var e=n[0]-r[0],a=n[1]-r[1],i=n[2]-r[2],v=n[3]-r[3];return e*e+a*a+i*i+v*v}function H(r){var n=r[0],e=r[1],a=r[2],i=r[3];return Math.hypot(n,e,a,i)}function J(r){var n=r[0],e=r[1],a=r[2],i=r[3];return n*n+e*e+a*a+i*i}function xn(r,n){return r[0]=-n[0],r[1]=-n[1],r[2]=-n[2],r[3]=-n[3],r}function sn(r,n){return r[0]=1/n[0],r[1]=1/n[1],r[2]=1/n[2],r[3]=1/n[3],r}function sr(r,n){var e=n[0],a=n[1],i=n[2],v=n[3],x=e*e+a*a+i*i+v*v;return x>0&&(x=1/Math.sqrt(x)),r[0]=e*x,r[1]=a*x,r[2]=i*x,r[3]=v*x,r}function hr(r,n){return r[0]*n[0]+r[1]*n[1]+r[2]*n[2]+r[3]*n[3]}function hn(r,n,e,a){var i=e[0]*a[1]-e[1]*a[0],v=e[0]*a[2]-e[2]*a[0],x=e[0]*a[3]-e[3]*a[0],s=e[1]*a[2]-e[2]*a[1],h=e[1]*a[3]-e[3]*a[1],M=e[2]*a[3]-e[3]*a[2],c=n[0],t=n[1],p=n[2],f=n[3];return r[0]=t*M-p*h+f*s,r[1]=-(c*M)+p*x-f*v,r[2]=c*h-t*x+f*i,r[3]=-(c*s)+t*v-p*i,r}function Mr(r,n,e,a){var i=n[0],v=n[1],x=n[2],s=n[3];return r[0]=i+a*(e[0]-i),r[1]=v+a*(e[1]-v),r[2]=x+a*(e[2]-x),r[3]=s+a*(e[3]-s),r}function Mn(r,n){n=n||1;var e,a,i,v,x,s;do e=b()*2-1,a=b()*2-1,x=e*e+a*a;while(x>=1);do i=b()*2-1,v=b()*2-1,s=i*i+v*v;while(s>=1);var h=Math.sqrt((1-x)/s);return r[0]=n*e,r[1]=n*a,r[2]=n*i*h,r[3]=n*v*h,r}function cn(r,n,e){var a=n[0],i=n[1],v=n[2],x=n[3];return r[0]=e[0]*a+e[4]*i+e[8]*v+e[12]*x,r[1]=e[1]*a+e[5]*i+e[9]*v+e[13]*x,r[2]=e[2]*a+e[6]*i+e[10]*v+e[14]*x,r[3]=e[3]*a+e[7]*i+e[11]*v+e[15]*x,r}function fn(r,n,e){var a=n[0],i=n[1],v=n[2],x=e[0],s=e[1],h=e[2],M=e[3],c=M*a+s*v-h*i,t=M*i+h*a-x*v,p=M*v+x*i-s*a,f=-x*a-s*i-h*v;return r[0]=c*M+f*-x+t*-h-p*-s,r[1]=t*M+f*-s+p*-x-c*-h,r[2]=p*M+f*-h+c*-s-t*-x,r[3]=n[3],r}function pn(r){return r[0]=0,r[1]=0,r[2]=0,r[3]=0,r}function tn(r){return"vec4("+r[0]+", "+r[1]+", "+r[2]+", "+r[3]+")"}function cr(r,n){return r[0]===n[0]&&r[1]===n[1]&&r[2]===n[2]&&r[3]===n[3]}function fr(r,n){var e=r[0],a=r[1],i=r[2],v=r[3],x=n[0],s=n[1],h=n[2],M=n[3];return Math.abs(e-x)<=E*Math.max(1,Math.abs(e),Math.abs(x))&&Math.abs(a-s)<=E*Math.max(1,Math.abs(a),Math.abs(s))&&Math.abs(i-h)<=E*Math.max(1,Math.abs(i),Math.abs(h))&&Math.abs(v-M)<=E*Math.max(1,Math.abs(v),Math.abs(M))}var ln=jr,yn=Zr,mn=Gr,gn=Qr,zn=Ur,dn=H,Pn=J,An=(function(){var r=Vr();return function(n,e,a,i,v,x){var s,h;for(e||(e=4),a||(a=0),i?h=Math.min(i*e+a,n.length):h=n.length,s=a;s<h;s+=e)r[0]=n[s],r[1]=n[s+1],r[2]=n[s+2],r[3]=n[s+3],v(r,r,x),n[s]=r[0],n[s+1]=r[1],n[s+2]=r[2],n[s+3]=r[3];return n}})();function pr(){var r=new L(4);return L!=Float32Array&&(r[0]=0,r[1]=0,r[2]=0),r[3]=1,r}function wn(r){return r[0]=0,r[1]=0,r[2]=0,r[3]=1,r}function Xr(r,n,e){e=e*.5;var a=Math.sin(e);return r[0]=a*n[0],r[1]=a*n[1],r[2]=a*n[2],r[3]=Math.cos(e),r}function En(r,n){var e=Math.acos(n[3])*2,a=Math.sin(e/2);return a>E?(r[0]=n[0]/a,r[1]=n[1]/a,r[2]=n[2]/a):(r[0]=1,r[1]=0,r[2]=0),e}function On(r,n){var e=Kr(r,n);return Math.acos(2*e*e-1)}function Cr(r,n,e){var a=n[0],i=n[1],v=n[2],x=n[3],s=e[0],h=e[1],M=e[2],c=e[3];return r[0]=a*c+x*s+i*M-v*h,r[1]=i*c+x*h+v*s-a*M,r[2]=v*c+x*M+a*h-i*s,r[3]=x*c-a*s-i*h-v*M,r}function Rn(r,n,e){e*=.5;var a=n[0],i=n[1],v=n[2],x=n[3],s=Math.sin(e),h=Math.cos(e);return r[0]=a*h+x*s,r[1]=i*h+v*s,r[2]=v*h-i*s,r[3]=x*h-a*s,r}function In(r,n,e){e*=.5;var a=n[0],i=n[1],v=n[2],x=n[3],s=Math.sin(e),h=Math.cos(e);return r[0]=a*h-v*s,r[1]=i*h+x*s,r[2]=v*h+a*s,r[3]=x*h-i*s,r}function Nn(r,n,e){e*=.5;var a=n[0],i=n[1],v=n[2],x=n[3],s=Math.sin(e),h=Math.cos(e);return r[0]=a*h+i*s,r[1]=i*h-a*s,r[2]=v*h+x*s,r[3]=x*h-v*s,r}function Sn(r,n){var e=n[0],a=n[1],i=n[2];return r[0]=e,r[1]=a,r[2]=i,r[3]=Math.sqrt(Math.abs(1-e*e-a*a-i*i)),r}function Br(r,n){var e=n[0],a=n[1],i=n[2],v=n[3],x=Math.sqrt(e*e+a*a+i*i),s=Math.exp(v),h=x>0?s*Math.sin(x)/x:0;return r[0]=e*h,r[1]=a*h,r[2]=i*h,r[3]=s*Math.cos(x),r}function Hr(r,n){var e=n[0],a=n[1],i=n[2],v=n[3],x=Math.sqrt(e*e+a*a+i*i),s=x>0?Math.atan2(x,v)/x:0;return r[0]=e*s,r[1]=a*s,r[2]=i*s,r[3]=.5*Math.log(e*e+a*a+i*i+v*v),r}function Ln(r,n,e){return Hr(r,n),Wr(r,r,e),Br(r,r),r}function K(r,n,e,a){var i=n[0],v=n[1],x=n[2],s=n[3],h=e[0],M=e[1],c=e[2],t=e[3],p,f,y,m,l;return f=i*h+v*M+x*c+s*t,f<0&&(f=-f,h=-h,M=-M,c=-c,t=-t),1-f>E?(p=Math.acos(f),y=Math.sin(p),m=Math.sin((1-a)*p)/y,l=Math.sin(a*p)/y):(m=1-a,l=a),r[0]=m*i+l*h,r[1]=m*v+l*M,r[2]=m*x+l*c,r[3]=m*s+l*t,r}function Yn(r){var n=b(),e=b(),a=b(),i=Math.sqrt(1-n),v=Math.sqrt(n);return r[0]=i*Math.sin(2*Math.PI*e),r[1]=i*Math.cos(2*Math.PI*e),r[2]=v*Math.sin(2*Math.PI*a),r[3]=v*Math.cos(2*Math.PI*a),r}function Tn(r,n){var e=n[0],a=n[1],i=n[2],v=n[3],x=e*e+a*a+i*i+v*v,s=x?1/x:0;return r[0]=-e*s,r[1]=-a*s,r[2]=-i*s,r[3]=v*s,r}function qn(r,n){return r[0]=-n[0],r[1]=-n[1],r[2]=-n[2],r[3]=n[3],r}function Jr(r,n){var e=n[0]+n[4]+n[8],a;if(e>0)a=Math.sqrt(e+1),r[3]=.5*a,a=.5/a,r[0]=(n[5]-n[7])*a,r[1]=(n[6]-n[2])*a,r[2]=(n[1]-n[3])*a;else{var i=0;n[4]>n[0]&&(i=1),n[8]>n[i*3+i]&&(i=2);var v=(i+1)%3,x=(i+2)%3;a=Math.sqrt(n[i*3+i]-n[v*3+v]-n[x*3+x]+1),r[i]=.5*a,a=.5/a,r[3]=(n[v*3+x]-n[x*3+v])*a,r[v]=(n[v*3+i]+n[i*3+v])*a,r[x]=(n[x*3+i]+n[i*3+x])*a}return r}function bn(r,n,e,a){var i=.5*Math.PI/180;n*=i,e*=i,a*=i;var v=Math.sin(n),x=Math.cos(n),s=Math.sin(e),h=Math.cos(e),M=Math.sin(a),c=Math.cos(a);return r[0]=v*h*c-x*s*M,r[1]=x*s*c+v*h*M,r[2]=x*h*M-v*s*c,r[3]=x*h*c+v*s*M,r}function Dn(r){return"quat("+r[0]+", "+r[1]+", "+r[2]+", "+r[3]+")"}var _n=nr,Fn=er,Vn=ar,jn=ir,Zn=vr,Gn=Cr,Wr=xr,Kr=hr,Qn=Mr,$r=H,Un=$r,kr=J,Xn=kr,tr=sr,Cn=cr,Bn=fr,Hn=(function(){var r=U(),n=X(1,0,0),e=X(0,1,0);return function(a,i,v){var x=C(i,v);return x<-.999999?(Z(r,n,i),rr(r)<1e-6&&Z(r,e,i),u(r,r),Xr(a,r,Math.PI),a):x>.999999?(a[0]=0,a[1]=0,a[2]=0,a[3]=1,a):(Z(r,i,v),a[0]=r[0],a[1]=r[1],a[2]=r[2],a[3]=1+x,tr(a,a))}})(),Jn=(function(){var r=pr(),n=pr();return function(e,a,i,v,x,s){return K(r,a,x,s),K(n,i,v,s),K(e,r,n,2*s*(1-s)),e}})(),Wn=(function(){var r=k();return function(n,e,a,i){return r[0]=a[0],r[3]=a[1],r[6]=a[2],r[1]=i[0],r[4]=i[1],r[7]=i[2],r[2]=-e[0],r[5]=-e[1],r[8]=-e[2],tr(n,Jr(n,r))}})();var G=class{static _xfnv1a(n){let e=2166136261;for(let a=0;a<n.length;a++)e=Math.imul(e^n.charCodeAt(a),16777619);return()=>(e+=e<<13,e^=e>>>7,e+=e<<3,e^=e>>>17,(e+=e<<5)>>>0)}},yr=class r extends G{constructor(n){super(),Object.defineProperty(this,"a",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.a=r._xfnv1a(n)()}next(){let n=this.a+=1831565813;return n=Math.imul(n^n>>>15,1|n),n^=n+Math.imul(n^n>>>7,61|n),((n^n>>>14)>>>0)/4294967296}},mr=class r extends G{constructor(n){super(),Object.defineProperty(this,"a",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"b",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"c",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"d",{enumerable:!0,configurable:!0,writable:!0,value:void 0});let e=r._xfnv1a(n);this.a=e(),this.b=e(),this.c=e(),this.d=e()}next(){this.a>>>=0,this.b>>>=0,this.c>>>=0,this.d>>>=0;let n=this.a+this.b|0;return this.a=this.b^this.b>>>9,this.b=this.c+(this.c<<3)|0,this.c=this.c<<21|this.c>>>11,this.d=this.d+1|0,n=n+this.d|0,this.c=this.c+n|0,(n>>>0)/4294967296}},gr=class r extends G{constructor(n){super(),Object.defineProperty(this,"a",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"b",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"c",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"d",{enumerable:!0,configurable:!0,writable:!0,value:void 0});let e=r._xfnv1a(n);this.a=e(),this.b=e(),this.c=e(),this.d=e()}next(){let n=this.b<<9,e=5*this.b;return e=9*(e<<7|e>>>25),this.c^=this.a,this.d^=this.b,this.b^=this.c,this.a^=this.d,this.c^=n,this.d=this.d<<11|this.d>>>21,(e>>>0)/4294967296}},$;(function(r){r.sfc32="sfc32",r.mulberry32="mulberry32",r.xoshiro128ss="xoshiro128ss"})($||($={}));var zr=class{constructor(n,e=$.sfc32){Object.defineProperty(this,"str",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"prng",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"generator",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.str=n,this.prng=e,this.generator=this._initializeGenerator()}next(){return this.generator.next()}_initializeGenerator(){if((e=>e===null)(n=this.str)||(e=>e===void 0)(n))return this.wrap();var n;switch(this.prng){case"sfc32":return new mr(this.str);case"mulberry32":return new yr(this.str);case"xoshiro128ss":return new gr(this.str);default:return this.wrap()}}wrap(){return{next:()=>Math.random()}}};export{$ as PRNG,zr as Rand,Q as mat3,o as mat4,lr as quat,B as vec3,W as vec4};
